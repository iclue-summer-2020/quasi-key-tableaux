(window["webpackJsonpqkt-ui"]=window["webpackJsonpqkt-ui"]||[]).push([[0],{283:function(e,t,n){e.exports=n(554)},317:function(e,t){},319:function(e,t){},328:function(e,t){},330:function(e,t){},355:function(e,t){},356:function(e,t){},361:function(e,t){},363:function(e,t){},387:function(e,t){},430:function(e,t){},549:function(e,t,n){},552:function(e,t,n){},553:function(e,t,n){},554:function(e,t,n){"use strict";n.r(t);var a,l=n(0),i=n.n(l),o=n(21),r=n.n(o),u=n(83),s=n.n(u),c=(n(288),n(124)),m=n.n(c),p=n(223),d=n(224),h=n(235),f=n(234),v=n(225),g=n.n(v),E=n(39),S=n(572),b=n(222),T=n(568),w=n(573),x=n(569),A=n(571),C=n(574),y=n(229),_=n.n(y),k=n(17),R=S.g.create({position:k.a.BOTTOM,usePortal:!0,canEscapeKeyClear:!0}),N=(n(549),Object({NODE_ENV:"production",PUBLIC_URL:"/quasi-key-tableaux",REACT_APP_QKT_HOST:"https://qkt-fuvrjj5h2a-ue.a.run.app",REACT_APP_QKT_PORT:" "})),O=N.REACT_APP_QKT_HOST,P=void 0===O?"localhost":O,j=N.REACT_APP_QKT_PORT,I=void 0===j?"":j,q="".concat(P.trim()).concat(I.trim()?":".concat(I.trim()):""),F=_.a[200];!function(e){e[e.Solving=0]="Solving",e[e.Finished=1]="Finished"}(a||(a={}));var D=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var l;return Object(d.a)(this,n),(l=t.call(this,e)).componentDidMount=function(){},l.componentWillUnmount=function(){},l.doneSolving=function(){l.setState({stage:a.Finished})},l.buildGrid=function(e){var t=l.props.classes;return i.a.createElement(x.a,{container:!0,className:t.root},i.a.createElement(x.a,{item:!0,xs:"auto"},e.map((function(e,n){return i.a.createElement(x.a,{container:!0,className:t.root,key:n,spacing:0},e.map((function(e,a){return i.a.createElement(x.a,{item:!0,key:"".concat(n,".").concat(a)},i.a.createElement(A.a,{className:t.paper,style:{backgroundColor:F}},i.a.createElement(C.a,null,e)))})))}))))},l.validateAlphaText=function(e){var t={valid:!1,alpha:null};if(""===e.trim())return t;var n=e.split(/[ \t,]+/);if(!n.every((function(e){return Number.isInteger(+e)})))return t;var a=n.filter((function(e){return""!==e})).map((function(e){return Number.parseInt(e)}));return 0===a.length||a.some((function(e){return e<0}))?t:{valid:!0,alpha:a}},l.sendRequest=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"".concat(q,"/solve"),headers:{origin:window.location.origin},useQuerystring:!0,qs:{"alpha[]":t,num_samples:20},json:!0},i=null,e.prev=2,e.next=5,g()(n);case 5:i=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),R.show({timeout:2e3,message:"Unable to solve: ".concat(e.t0),icon:"warning-sign",intent:E.a.DANGER}),e.abrupt("return",l.setState({stage:a.Finished}));case 12:return R.show({timeout:2e3,message:"Successfully solved",icon:"tick",intent:E.a.SUCCESS}),e.abrupt("return",l.setState({stage:a.Finished,numSolutions:i.num_solutions,status:i.status,sameWtSamples:i.same_weight_samples,Ts:i.sample_solutions,alpha:t}));case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),l.onSubmit=function(){var e=l.state.alphaText,t=l.validateAlphaText(e),n=t.valid,i=t.alpha;n&&l.setState({stage:a.Solving,alpha:null,status:null,sameWtSamples:null,numSolutions:null,Ts:null,sampleIdx:0},(function(){return l.sendRequest(i)}))},l.onSliderChange=function(e){l.setState({sampleIdx:e-1})},l.onAlphaChange=function(e){var t=e.target.value,n=l.validateAlphaText(t).valid;l.setState({validAlphaText:n,alphaText:t})},l.render=function(){var e=l.state,t=e.Ts,n=e.alpha,o=e.numSolutions,r=e.sameWtSamples,u=e.sampleIdx,s=e.stage,c=e.status,m=e.validAlphaText,p=i.a.createElement(S.h,{content:"Find quasi-key tableaux"},i.a.createElement(S.a,{minimal:!0,icon:"arrow-right",intent:E.a.PRIMARY,disabled:!m,type:"submit",onClick:l.onSubmit}));return i.a.createElement("div",null,i.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},i.a.createElement(S.b,{helperText:"",label:"composition",labelFor:"text-input",labelInfo:"(weak)"},i.a.createElement(S.d,{placeholder:"\u03b1",onChange:l.onAlphaChange,intent:m?E.a.SUCCESS:E.a.DANGER,leftIcon:"dot",rightElement:p}))),t&&l.buildGrid(t[u].slice().reverse()),t&&i.a.createElement("div",null,"Samples",i.a.createElement(S.f,{value:u+1,disabled:s===a.Solving,min:1,max:t.length,onChange:l.onSliderChange,className:"qkt-slider"})),n&&i.a.createElement("div",null,i.a.createElement(S.c,null,"Status: ",c),i.a.createElement(S.c,null,"Number of solutions: ",o),r?i.a.createElement(S.c,{style:{color:b.a.RED2}},"Found tableaux with same weight"):i.a.createElement(S.c,{style:{color:b.a.GREEN2}},"Multiplicity free!")),s===a.Solving&&i.a.createElement(S.e,{className:"sb-footer",value:1,stripes:!0}))},l.state={stage:a.Finished,alpha:null,status:null,sameWtSamples:null,numSolutions:null,Ts:null,sampleIdx:0,validAlphaText:!1,alphaText:""},l}return n}(i.a.Component),W=Object(w.a)((function(e){return Object(T.a)({root:{flexGrow:1},paper:{height:50,width:50,justifyContent:"center",display:"flex",flexDirection:"column"}})}))(D);s.a.config();var G=function(){return i.a.createElement(W,null)},U=(n(552),function(){return i.a.createElement("div",{className:"App",style:{width:"100%",height:"100%"}},i.a.createElement(G,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(553);s.a.config(),r.a.render(i.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[283,1,2]]]);
//# sourceMappingURL=main.9791af9d.chunk.js.map