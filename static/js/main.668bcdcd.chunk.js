(window["webpackJsonpqkt-ui"]=window["webpackJsonpqkt-ui"]||[]).push([[0],{283:function(e,t,n){e.exports=n(554)},317:function(e,t){},319:function(e,t){},328:function(e,t){},330:function(e,t){},355:function(e,t){},356:function(e,t){},361:function(e,t){},363:function(e,t){},387:function(e,t){},430:function(e,t){},549:function(e,t,n){},552:function(e,t,n){},553:function(e,t,n){},554:function(e,t,n){"use strict";n.r(t);var a,o=n(0),l=n.n(o),i=n(21),r=n.n(i),u=n(83),c=n.n(u),s=(n(288),n(124)),m=n.n(s),p=n(222),d=n(223),h=n(234),f=n(233),v=n(224),g=n.n(v),E=n(39),b=n(572),S=n(568),T=n(573),x=n(569),w=n(571),A=n(574),C=n(228),k=n.n(C),y=n(17),_=b.g.create({position:y.a.BOTTOM,usePortal:!0,canEscapeKeyClear:!0}),O=(n(549),Object({NODE_ENV:"production",PUBLIC_URL:"/quasi-key-tableaux",REACT_APP_QKT_HOST:"54.245.185.243",REACT_APP_QKT_PORT:"80"})),N=O.REACT_APP_QKT_HOST,P=void 0===N?"localhost":N,R=O.REACT_APP_QKT_PORT,I=void 0===R?5e3:R,j="".concat("https://cors-anywhere.herokuapp.com/","http://").concat(P,":").concat(I),q=k.a[200];!function(e){e[e.Solving=0]="Solving",e[e.Finished=1]="Finished"}(a||(a={}));var F=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var o;return Object(d.a)(this,n),(o=t.call(this,e)).componentDidMount=function(){},o.componentWillUnmount=function(){},o.doneSolving=function(){o.setState({stage:a.Finished})},o.buildGrid=function(e){var t=o.props.classes;return l.a.createElement(x.a,{container:!0,className:t.root},l.a.createElement(x.a,{item:!0,xs:"auto"},e.map((function(e,n){return l.a.createElement(x.a,{container:!0,className:t.root,key:n,spacing:0},e.map((function(e,a){return l.a.createElement(x.a,{item:!0,key:"".concat(n,".").concat(a)},l.a.createElement(w.a,{className:t.paper,style:{backgroundColor:q}},l.a.createElement(A.a,null,e)))})))}))))},o.validateAlphaText=function(e){var t={valid:!1,alpha:null};if(""===e.trim())return t;var n=e.split(/[ \t,]+/);if(!n.every((function(e){return Number.isInteger(+e)})))return t;var a=n.filter((function(e){return""!==e})).map((function(e){return Number.parseInt(e)}));return 0===a.length||a.some((function(e){return e<0}))?t:{valid:!0,alpha:a}},o.sendRequest=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"".concat(j,"/solve"),headers:{origin:window.location.origin},useQuerystring:!0,qs:{"alpha[]":t,num_samples:20},json:!0},l=null,e.prev=2,e.next=5,g()(n);case 5:l=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),_.show({timeout:2e3,message:"Unable to solve: ".concat(e.t0),icon:"warning-sign",intent:E.a.DANGER}),e.abrupt("return",o.setState({stage:a.Finished}));case 12:return _.show({timeout:2e3,message:"Successfully solved",icon:"tick",intent:E.a.SUCCESS}),e.abrupt("return",o.setState({stage:a.Finished,numSolutions:l.num_solutions,status:l.status,Ts:l.sample_solutions,alpha:t}));case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),o.onSubmit=function(){var e=o.state.alphaText,t=o.validateAlphaText(e),n=t.valid,l=t.alpha;n&&o.setState({stage:a.Solving,alpha:null,status:null,numSolutions:null,Ts:null,sampleIdx:0},(function(){return o.sendRequest(l)}))},o.onSliderChange=function(e){o.setState({sampleIdx:e-1})},o.onAlphaChange=function(e){var t=e.target.value,n=o.validateAlphaText(t).valid;o.setState({validAlphaText:n,alphaText:t})},o.render=function(){var e=o.state,t=e.stage,n=e.Ts,i=e.alpha,r=e.validAlphaText,u=e.status,c=e.numSolutions,s=e.sampleIdx,m=l.a.createElement(b.h,{content:"Find quasi-key tableaux"},l.a.createElement(b.a,{minimal:!0,icon:"arrow-right",intent:E.a.PRIMARY,disabled:!r,type:"submit",onClick:o.onSubmit}));return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},l.a.createElement(b.b,{helperText:"",label:"composition",labelFor:"text-input",labelInfo:"(weak)"},l.a.createElement(b.d,{placeholder:"\u03b1",onChange:o.onAlphaChange,intent:r?E.a.SUCCESS:E.a.DANGER,leftIcon:"dot",rightElement:m}))),n&&o.buildGrid(n[s].slice().reverse()),n&&l.a.createElement("div",null,"Samples",l.a.createElement(b.f,{value:s+1,disabled:t===a.Solving,min:1,max:n.length,onChange:o.onSliderChange,className:"qkt-slider"})),i&&l.a.createElement("div",null,l.a.createElement(b.c,null,"Status: ",u),l.a.createElement(b.c,null,"Number of solutions: ",c)),t===a.Solving&&l.a.createElement(b.e,{className:"sb-footer",value:1,stripes:!0}))},o.state={stage:a.Finished,alpha:null,status:null,numSolutions:null,Ts:null,sampleIdx:0,validAlphaText:!1,alphaText:""},o}return n}(l.a.Component),D=Object(T.a)((function(e){return Object(S.a)({root:{flexGrow:1},paper:{height:50,width:50,justifyContent:"center",display:"flex",flexDirection:"column"}})}))(F);c.a.config();var U=function(){return l.a.createElement(D,null)},G=(n(552),function(){return l.a.createElement("div",{className:"App",style:{width:"100%",height:"100%"}},l.a.createElement(U,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(553);c.a.config(),r.a.render(l.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[283,1,2]]]);
//# sourceMappingURL=main.668bcdcd.chunk.js.map